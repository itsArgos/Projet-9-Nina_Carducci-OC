function mauGallery(e){let t=document.querySelectorAll(".gallery");mauGallery.defaults={columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"bottom",navigation:!0};let l={...mauGallery.defaults,...e};t.forEach(function(e){(function e(t){let l=t.children[0];if(!l?.classList.contains("row")){let a=document.createElement("div");a.classList.add("gallery-items-row","row"),t.insertBefore(a,l)}})(e),l.lightBox&&function e(t,l,a){let i=document.createElement("dialog"),n=document.createElement("div");i.id=l||"galleryLightbox",i.role="dialog",n.classList.add("modal-content"),n.innerHTML=`<button class="btn-left" > &lt; </button> <img class="lightboxImage img-fluid" alt="Contenu de l'image affich\xe9e dans la modale au clique"/> <button class="btn-right"> &gt; </button>`,i.appendChild(n),document.body.appendChild(i)}(e,l.lightboxId,l.navigation),function e(t){let l=document.querySelectorAll(".gallery-item"),a=document.querySelector(".gallery");l.forEach(function(e){e.addEventListener("click",function(){"IMG"===e.tagName&&n(e)})}),a.addEventListener("click",e=>{let l=e.target;l.classList.contains("nav-link")?function e(t){let l=document.querySelectorAll(".active.active-tag"),a=document.querySelectorAll(".gallery-item");if(t.classList.contains("active-tag"))return;l.forEach(function(e){e.classList.remove("active","active-tag")}),t.classList.add("active-tag","active");let i=t.getAttribute("data-images-toggle");a.forEach(function(e){e.closest(".item-column").style.display="none","all"===i?e.closest(".item-column").style.display="block":e.getAttribute("data-gallery-tag")===i&&(e.closest(".item-column").style.display="block")})}(l):l.classList.contains("mg-prev")?prevImage(t.lightboxId):l.classList.contains("mg-next")&&nextImage(t.lightboxId)})}(l),e.querySelectorAll(".gallery-item").forEach(function(e){var t;"IMG"===(t=e).tagName&&t.classList.add("img-fluid"),function e(t){t.parentNode.querySelector(".gallery-items-row").appendChild(t)}(e),function e(t,l){if("number"==typeof l){let a=`item-column mb-4 col-${Math.ceil(12/l)}`,i=document.createElement("div");i.className=a,t.parentNode.insertBefore(i,t),i.appendChild(t)}else if("object"==typeof l){let n="";l.xs&&(n+=" col-"+Math.ceil(12/l.xs)),l.sm&&(n+=" col-sm-"+Math.ceil(12/l.sm)),l.md&&(n+=" col-md-"+Math.ceil(12/l.md)),l.lg&&(n+=" col-lg-"+Math.ceil(12/l.lg)),l.xl&&(n+=" col-xl-"+Math.ceil(12/l.xl));let o=document.createElement("div");o.className="item-column mb-4 "+n,t.parentNode.insertBefore(o,t),o.appendChild(t)}else console.error("Columns should be defined as numbers or objects."+typeof l+"is not supported.")}(e,l.columns);let a=[],i=e.getAttribute("data-gallery-tag");l.showTags&&void 0!==i&&-1===a.indexOf(i)&&a.push(i)}),l.showTags&&function e(t,l,a){let i='<li class="nav-item"><span class="nav-link active active-tag"  data-images-toggle="all">Tous</span></li>';a.forEach(function(e){i+=`<li class="nav-item active">
            <span class="nav-link"  data-images-toggle="${e}">${e}</span></li>`});let n=document.createElement("ul");n.classList.add("my-4","tags-bar","nav","nav-pills"),n.innerHTML=i,"bottom"===l?t.appendChild(n):"top"===l?t.insertBefore(n,t.firstChild):console.error("Unknown tags position: "+l)}(e,l.tagsPosition,tagsCollection),e.style.display="block"});let a=null,i=document.querySelector("dialog");function n(e){if(!e){i.close();return}a=e,i.querySelector(".lightboxImage").src=e.src,i.addEventListener("click",function(e){e.target===i&&i.close()}),i.showModal()}function o(e){i.close(),n(a.parentNode[`${e}Sibling`]?.querySelector("img"))}let s=i.querySelector("button:first-child"),c=i.querySelector("button:last-child");s.addEventListener("click",()=>o("previous")),c.addEventListener("click",()=>o("next"))}export default mauGallery;